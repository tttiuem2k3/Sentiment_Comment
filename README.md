# âœ¨ PhÃ¢n tÃ­ch Sáº¯c ThÃ¡i Cáº£m XÃºc BÃ¬nh Luáº­n TrÃªn SÃ n ThÆ°Æ¡ng Máº¡i Äiá»‡n Tá»­ âœ¨

## ğŸ’¡ Giá»›i Thiá»‡u Chung
Trong bá»‘i cáº£nh phÃ¡t triá»ƒn máº¡nh máº½ cá»§a cÃ¡c sÃ n thÆ°Æ¡ng máº¡i Ä‘iá»‡n tá»­, cÃ¡c bÃ¬nh luáº­n tá»« ngÆ°á»i tiÃªu dÃ¹ng trá»Ÿ thÃ nh nguá»“n thÃ´ng tin quan trá»ng giÃºp ngÆ°á»i mua Ä‘á»“ phÃ¢n tÃ­ch sáº£n pháº©m vÃ  nhÃ  bÃ¡n hÃ ng cáº£i thiá»‡n dá»‹ch vá»¥.

Dá»± Ã¡n nÃ y nháº±m má»¥c tiÃªu giÃºp phÃ¢n tÃ­ch nhanh cÃ¡c bÃ¬nh luáº­n vÃ  tÃ¬m hiá»ƒu xem nháº­n Ä‘á»‹nh cá»§a ngÆ°á»i dÃ¹ng lÃ  tÃ­ch cá»±c hay tiÃªu cá»±c tá»« Ä‘Ã³ Ä‘Æ°a ra Ä‘Æ°á»£c nháº­n xÃ©t tá»•ng thá»ƒ lÃ  sáº£n pháº©m cÃ³ nÃªn mua hay lÃ  khÃ´ng!

**Sentiment Analysis** lÃ  má»™t ká»¹ thuáº­t trong xá»­ lÃ½ ngÃ´n ngá»¯ tá»± nhiÃªn **(NLP)** dÃ¹ng Ä‘á»ƒ xÃ¡c Ä‘á»‹nh vÃ  phÃ¢n loáº¡i cáº£m xÃºc (tÃ­ch cá»±c, tiÃªu cá»±c) cá»§a vÄƒn báº£n. Äá» tÃ i nÃ y táº­p trung xÃ¢y dá»±ng má»™t há»‡ thá»‘ng phÃ¢n tÃ­ch cáº£m xÃºc hiá»‡u quáº£, Ã¡p dá»¥ng mÃ´ hÃ¬nh **PhoBERT** káº¿t há»£p vá»›i **CNN** vÃ  **BiLSTM** Ä‘á»ƒ khai thÃ¡c tá»‘i Æ°u Ä‘áº·c trÆ°ng ngá»¯ nghÄ©a vÃ  ngá»¯ cáº£nh trong bÃ¬nh luáº­n tiáº¿ng Viá»‡t. NgoÃ i ra cÃ²n triá»ƒn khai mÃ´ hÃ¬nh **ELECTRA-BASE** nháº±m Ä‘Ã¡nh giÃ¡ xem mÃ´ hÃ¬nh trÃªn Ä‘Æ°á»£c huáº¥n luyá»‡n trÃªn Embedding cá»§a PhoBert Ä‘Ã£ tá»›i háº¡n vá»›i táº­p dá»¯ liá»‡u hay chÆ°a, triá»ƒn khai mÃ´ hÃ¬nh ELECTRA-Base loáº¡i bá» hoÃ n toÃ n cÃ¡c lá»›p tÃ¹y chá»‰nh (CNN, BiLSTM, Attention) vÃ  dá»±a vÃ o kiáº¿n trÃºc transformer cá»§a Electra Ä‘á»ƒ xem Ä‘á»™ chÃ­nh xÃ¡c cÃ³ Ä‘Æ°á»£c cáº£i thiá»‡n hay khÃ´ng, khÃ¡m phÃ¡ kháº£ nÄƒng cá»§a ELECTRA trong xá»­ lÃ½ ngÃ´n ngá»¯ tiáº¿ng Viá»‡t. NghiÃªn cá»©u há»©a háº¹n mang láº¡i giÃ¡ trá»‹ á»©ng dá»¥ng cao vÃ  Ä‘Ã³ng gÃ³p vÃ o viá»‡c xá»­ lÃ½ ngÃ´n ngá»¯ tá»± nhiÃªn cho tiáº¿ng Viá»‡t.

---

## ğŸ› ï¸ Chá»©c nÄƒng chÃ­nh
- **PhÃ¢n tÃ­ch cáº£m xÃºc sáº¯c thÃ¡i**: Nháº­n Ä‘áº§u vÃ o lÃ  vÄƒn báº£n, tráº£ vá» nhÃ£n lÃ  sáº¯c thÃ¡i tÃ­ch cá»±c hoáº·c tiÃªu cá»±c kÃ¨m theo tá»‰ lá»‡ nháº±m Ä‘Ã¡nh giÃ¡ má»©c Ä‘á»™ cá»§a sáº¯c thÃ¡i.
- **PhÃ¢n tÃ­ch sáº£n pháº©m**: Nháº­n Ä‘áº§u vÃ o lÃ  Ä‘Æ°á»ng link liÃªn káº¿t Ä‘áº¿n sáº£n pháº©m trÃªn sÃ n thÆ°Æ¡ng máº¡i Ä‘iá»‡n tá»­, tráº£ vá» nháº­n xÃ©t tá»•ng quan vÃ  báº£ng phÃ¢n tÃ­ch chi tiáº¿t vá» sáº£n pháº©m.
- **ğŸ“Š Giao diá»‡n trá»±c quan**: Biá»ƒu Ä‘á»“ pie chart vÃ  báº£ng phÃ¢n tÃ­ch.

---

## :tv: Demo
![Demo](demo1.gif)
- Xem DEMO Ä‘áº§y Ä‘á»§ táº¡i Ä‘Ã¢y: https://www.youtube.com/watch?v=HQ2c8JY_TXI&t=25sz
  
---

## Tá»•ng quan há»‡ thá»‘ng vÃ  quy trÃ¬nh thá»±c hiá»‡n 

 ![SÆ¡ Ä‘á»“ tá»•ng quan há»‡ thá»‘ng](./Images/img1.JPG)
 
 ![SÆ¡ Ä‘á»“ qui trÃ¬nh thá»±c hiá»‡n](./Images/img2.JPG)
 
---

## ğŸ“‚ Nguá»“n dá»¯ liá»‡u
- **ğŸ“° Dá»¯ liá»‡u**: Thu tháº­p tá»« cÃ¡c bÃ¬nh luáº­n cá»§a sáº£n pháº©m tá»« cÃ¡c sÃ n thÆ°Æ¡ng máº¡i Ä‘iá»‡n tá»­ nhÆ°: Shopee, Lazada, Tiki, Sendo,...
- **ğŸ“Š Cáº¥u trÃºc dá»¯ liá»‡u**: Bao gá»“m  ná»™i dung cá»§a bÃ¬nh luáº­n, nhÃ£n (TÃ­ch cá»±c/TiÃªu cá»±c).
---

## ğŸ”„ QuÃ¡ trÃ¬nh thu tháº­p vÃ  xá»­ lÃ½ dá»¯ liá»‡u
1. **ğŸ—‚ï¸ Thu tháº­p dá»¯ liá»‡u**:
   - Sá»­ dá»¥ng cÃ¡c thÆ° viá»‡n nhÆ° Selenium, BeautifulSoup, Requests,.. Ä‘á»ƒ thu tháº­p dá»¯ liá»‡u lÃ  cÃ¡c bÃ i bÃ¡o tá»« nguá»“n dá»¯ liá»‡u theo cáº¥u trÃºc dá»¯ liá»‡u.
   - GÃ¡n nhÃ£n cho dá»¯ liá»‡u: Sau bÆ°á»›c thu tháº­p dá»¯ liá»‡u bÃ¬nh luáº­n lÃ  gÃ¡n nhÃ£n (tÃ­ch cá»±c: 0 , tiÃªu cá»±c: 1) cho cÃ¡c bÃ¬nh luáº­n dá»±a theo tiÃªu chÃ­:
      * Äá»ƒ Ä‘Ã¡nh giÃ¡ má»™t nhÃ£n cá»§a bÃ¬nh luáº­n thÃ¬ trÆ°á»›c háº¿t pháº£i Æ°u tiÃªn Ä‘áº¿n cháº¥t lÆ°á»£ng cá»§a sáº£n pháº©m, vÃ­ dá»¥:
         
            + Sáº£n pháº©m ráº¥t Ä‘áº¹p, giao hÃ ng nhanh - NhÃ£n tÃ­ch cá»±c: 0
            + Sáº£n pháº©m kÃ©m cháº¥t lÆ°á»£ng, giao hÃ ng nhanh - NhÃ£n tiÃªu cá»±c: 1
      * CÃ¡c bÃ¬nh luáº­n trung láº­p thÃ¬ pháº£i dá»±a vÃ o má»©c Ä‘á»™ Ä‘Ã¡nh giÃ¡ giÃ¡ sáº£n pháº©m Ä‘á»ƒ gÃ¡n nhÃ£n,vÃ­ dá»¥: 
        
            + Sáº£n pháº©m tá»‘t, giao hÃ ng hÆ¡i cháº­m - NhÃ£n tÃ­ch cá»±c: 0
            + Sáº£n pháº©m tá»‘t, giao hÃ ng cháº­m, Ä‘Ã³ng gÃ³i sáº£n pháº©m kÃ©m - NhÃ£n tiÃªu cá»±c: 1
   - Tham kháº£o code á»Ÿ thÆ° má»¥c [Crawl](./DATA/Crawl)
2. **ğŸ§¹ Tiá»n xá»­ lÃ½**:
   - Chuáº©n hÃ³a vÄƒn báº£n (chuyá»ƒn chá»¯ thÆ°á»ng, xÃ³a kÃ½ tá»± Ä‘áº·c biá»‡t).
   - TÃ¡ch tá»« tiáº¿ng Viá»‡t (word_segmentation): [`NlpHUST/vi-word-segmentation`](https://huggingface.co/NlpHUST/vi-word-segmentation)
   - Loáº¡i bá» stopwords vÃ  cÃ¢n báº±ng dá»¯ liá»‡u.
     
   ![Qui trÃ¬nh tiá»n xá»­ lÃ½ dá»¯ liá»‡u](./Images/img3.JPG)
3. **ğŸ“Š Thá»‘ng kÃª dá»¯ liá»‡u**:
   
   | Loáº¡i bÃ¬nh luáº­n | Sá»‘ lÆ°á»£ng | Tá»· lá»‡ |
   |----------------|----------|-------|
   | ğŸ“° TÃ­ch cá»±c   | 17,312   | 50.2% |
   | ğŸ“› TiÃªu cá»±c   | 17,156   | 49.8% |

4. **ğŸ“‚ PhÃ¢n chia táº­p dá»¯ liá»‡u huáº¥n luyá»‡n**:
   - **Train**: 70% (24.127 máº«u)
   - **Validation**: 15% (5.170 máº«u)
   - **Test**: 15% (5.171 máº«u)

---

# ğŸ§  MÃ´ hÃ¬nh vÃ  PhÆ°Æ¡ng PhÃ¡p

## 1. **MÃ´ hÃ¬nh PhoBERT káº¿t há»£p CNN vÃ  BiLSTM**
  ![MÃ´ hÃ¬nh PhoBert+CNN+Bilstm](./Images/img4.JPG)  
### **LÃ½ do sá»­ dá»¥ng PhoBERT**
- **Tokenizer vÃ  Embedding cá»§a PhoBERT**: PhoBERT lÃ  mÃ´ hÃ¬nh Ä‘Æ°á»£c huáº¥n luyá»‡n Ä‘áº·c biá»‡t trÃªn dá»¯ liá»‡u tiáº¿ng Viá»‡t, sá»­ dá»¥ng phÆ°Æ¡ng phÃ¡p **Byte Pair Encoding (BPE)** Ä‘á»ƒ xá»­ lÃ½ vÄƒn báº£n tiáº¿ng Viá»‡t hiá»‡u quáº£. Tokenizer cá»§a PhoBERT phÃ¢n chia tá»« thÃ nh cÃ¡c token phÃ¹ há»£p vá»›i cáº¥u trÃºc ngá»¯ phÃ¡p tiáº¿ng Viá»‡t, Ä‘á»“ng thá»i khá»›p hoÃ n háº£o vá»›i embedding cá»§a PhoBERT.
  ![Tokenizer PhoBERT](./Images/img5.JPG)  
- **Embedding giÃ u ngá»¯ nghÄ©a vÃ  ngá»¯ cáº£nh**: 
  - Biá»ƒu diá»…n tá»«ng tá»« dÆ°á»›i dáº¡ng vector 1024 chiá»u (vá»›i PhoBERT-large).
  - Náº¯m báº¯t Ã½ nghÄ©a cá»§a tá»« vÃ  ngá»¯ cáº£nh trong cÃ¢u. VÃ­ dá»¥: Tá»« "lá»±c" trong "lá»±c lÆ°á»£ng" vÃ  "hÃºt lá»±c" sáº½ cÃ³ embedding khÃ¡c nhau.
  ![PhoBERT Embedding](./Images/img6.JPG)  
- **Æ¯u Ä‘iá»ƒm cá»§a PhoBERT**: 
  - Xá»­ lÃ½ tá»‘t cÃ¡c tá»« ghÃ©p, tá»« Ä‘á»“ng Ã¢m, tá»« viáº¿t táº¯t, viáº¿t sai chÃ­nh táº£.
  - Hiá»ƒu ngá»¯ cáº£nh Ä‘á»™ng vÃ  xá»­ lÃ½ ngá»¯ cáº£nh cá»§a tá»«ng tá»« trong cÃ¢u, phÃ¹ há»£p vá»›i tiáº¿ng Viá»‡t phá»©c táº¡p.

### **Kiáº¿n trÃºc mÃ´ hÃ¬nh**
- **CNN (Convolutional Neural Network)**: TrÃ­ch xuáº¥t Ä‘áº·c trÆ°ng cá»¥c bá»™ tá»« embedding cá»§a PhoBERT (2 lá»›p CNN).
  ![CNN](./Images/img7.JPG)
  ![Attention Fusion](./Images/img8.JPG)
- **BiLSTM (Bidirectional LSTM)**: Náº¯m báº¯t ngá»¯ cáº£nh dÃ i háº¡n tá»« cáº£ hai chiá»u cá»§a chuá»—i vÄƒn báº£n.
  ![BiLSTM](./Images/img9.JPG)
  ![Contextual Understanding](./Images/img10.JPG)  
- **Fully Connected Layers**: Káº¿t há»£p cÃ¡c Ä‘áº·c trÆ°ng tá»« CNN vÃ  BiLSTM Ä‘á»ƒ Ä‘Æ°a ra dá»± Ä‘oÃ¡n cuá»‘i cÃ¹ng.
  ![Fully Connected Layers](./Images/img11.JPG)  
### **Káº¿t quáº£ trÃªn táº­p Test**
- **Accuracy**: 95.13%
- **Recall**: 95.13%
- **F1-score**: 95.13%
- **Positive**: 95.07%
- **Negative**: 95.17%
![Káº¿t quáº£ CNN-BiLSTM](./Images/img12.JPG)  

---

## 2. **MÃ´ hÃ¬nh ELECTRA-BASE**

### **LÃ½ do sá»­ dá»¥ng ELECTRA**
- **CÆ¡ cháº¿ Replaced Token Detection**: ELECTRA sá»­ dá»¥ng cÆ¡ cháº¿ phÃ¡t hiá»‡n token thay tháº¿, giÃºp há»c biá»ƒu diá»…n hiá»‡u quáº£ hÆ¡n so vá»›i cÃ¡c phÆ°Æ¡ng phÃ¡p truyá»n thá»‘ng nhÆ° Masked Language Model (MLM) cá»§a BERT.
- **Kiáº¿n trÃºc Transformer**: Loáº¡i bá» cÃ¡c lá»›p tÃ¹y chá»‰nh (CNN, BiLSTM, Attention) vÃ  dá»±a hoÃ n toÃ n vÃ o kiáº¿n trÃºc Transformer cá»§a ELECTRA Ä‘á»ƒ Ä‘Ã¡nh giÃ¡ hiá»‡u suáº¥t.
![Kiáº¿n trÃºc ELECTRA](./Images/img13.JPG)
### **Quy trÃ¬nh huáº¥n luyá»‡n**
![qui trÃ¬nh huáº¥n luyá»‡n ELECTRA](./Images/img14.JPG)  
### **Káº¿t quáº£ trÃªn táº­p Test**
- **Accuracy**: 96.65%
- **Recall**: 96.65%
- **F1-score**: 96.65%
- **Positive**: 96.51%
- **Negative**: 96.79%


![Káº¿t quáº£ ELECTRA](./Images/img15.JPG)  

---

## 3. **So sÃ¡nh hai mÃ´ hÃ¬nh**

| MÃ´ hÃ¬nh       | Accuracy | Recall | F1-score | Positive | Negative |
|---------------|----------|--------|----------|----------|----------|
| **CNN-BiLSTM** | 95.13%   | 95.13% | 95.13%   | 95.07%   | 95.17%   |
| **ELECTRA**    | 96.65%   | 96.65% | 96.65%   | 96.51%   | 96.79%   |

![So sÃ¡nh hai mÃ´ hÃ¬nh](./Images/img16.JPG)  

---

## 4. **ThÃ¡ch thá»©c vÃ  khÃ³ khÄƒn**

### **ThÃ¡ch thá»©c liÃªn quan Ä‘áº¿n dá»¯ liá»‡u**
- **NgÃ´n ngá»¯ khÃ´ng dáº¥u**: Tiáº¿ng Viá»‡t cÃ³ thá»ƒ viáº¿t cÃ³ dáº¥u hoáº·c khÃ´ng dáº¥u, gÃ¢y khÃ³ khÄƒn cho mÃ´ hÃ¬nh trong viá»‡c phÃ¢n biá»‡t nghÄ©a. VÃ­ dá»¥: "tá»‘t" vÃ  "tot", "kÃ©m" vÃ  "kem".
- **Tá»« viáº¿t táº¯t vÃ  tá»« lÃ³ng**: Nhiá»u tá»« viáº¿t táº¯t hoáº·c tiáº¿ng lÃ³ng trÃªn máº¡ng xÃ£ há»™i. VÃ­ dá»¥: "phim nÃ y ko hay", "á»§a z lÃ  sao".
- **Cháº¥t lÆ°á»£ng dá»¯ liá»‡u**: Dá»¯ liá»‡u cÃ³ thá»ƒ chá»©a lá»—i chÃ­nh táº£, ngÃ´n ngá»¯ khÃ´ng chuáº©n má»±c hoáº·c cÃº phÃ¡p khÃ´ng Ä‘áº§y Ä‘á»§.

### **ThÃ¡ch thá»©c trong mÃ´ hÃ¬nh CNN-BiLSTM**
- **Xá»­ lÃ½ chuá»—i dÃ i**: Tiáº¿ng Viá»‡t cÃ³ cÃ¢u dÃ i vÃ  tá»« phá»©c táº¡p, gÃ¢y khÃ³ khÄƒn cho BiLSTM trong viá»‡c náº¯m báº¯t toÃ n bá»™ thÃ´ng tin.
- **KÃ­ch thÆ°á»›c embedding**: TÃ¬m embedding phÃ¹ há»£p cho tiáº¿ng Viá»‡t (Word2Vec, FastText, BERT) lÃ  má»™t thÃ¡ch thá»©c lá»›n.

---

## ğŸ“ Káº¿t luáº­n
- **PhoBERT + CNN + BiLSTM** vÃ  **ELECTRA** Ä‘á»u cho káº¿t quáº£ tá»‘t, vá»›i ELECTRA vÆ°á»£t trá»™i hÆ¡n vá» Ä‘á»™ chÃ­nh xÃ¡c.
- CÃ¡c thÃ¡ch thá»©c vá» dá»¯ liá»‡u vÃ  ngÃ´n ngá»¯ tiáº¿ng Viá»‡t cáº§n Ä‘Æ°á»£c giáº£i quyáº¿t Ä‘á»ƒ cáº£i thiá»‡n hiá»‡u suáº¥t mÃ´ hÃ¬nh.

---

## ğŸ”® HÆ°á»›ng phÃ¡t triá»ƒn
- **Má»Ÿ rá»™ng dá»¯ liá»‡u**: Thu tháº­p thÃªm dá»¯ liá»‡u tá»« nhiá»u nguá»“n Ä‘á»ƒ Ä‘a dáº¡ng hÃ³a ngá»¯ cáº£nh vÃ  sáº¯c thÃ¡i cáº£m xÃºc. 
- **á»¨ng dá»¥ng thá»±c táº¿**: Triá»ƒn khai API hoáº·c tÃ­ch há»£p vÃ o cÃ¡c sÃ n thÆ°Æ¡ng máº¡i Ä‘iá»‡n tá»­. PhÃ¡t triá»ƒn á»©ng dá»¥ng di Ä‘á»™ng Ä‘á»ƒ phÃ¢n tÃ­ch cáº£m xÃºc nhanh chÃ³ng.
- **ğŸŒ NghiÃªn cá»©u sÃ¢u hÆ¡n**: PhÃ¢n tÃ­ch ngá»¯ cáº£nh Ä‘a chiá»u vÃ  xá»­ lÃ½ cÃ¢u phá»©c táº¡p. Cáº£i thiá»‡n kháº£ nÄƒng hiá»ƒu ngá»¯ cáº£nh vÄƒn hÃ³a vÃ  xÃ£ há»™i.
- **TÃ­nh nÄƒng má»›i**: PhÃ¢n tÃ­ch xu hÆ°á»›ng cáº£m xÃºc theo thá»i gian. Gá»£i Ã½ cáº£i thiá»‡n sáº£n pháº©m dá»±a trÃªn pháº£n há»“i khÃ¡ch hÃ ng.

---

## ğŸ› ï¸ CÃ i Ä‘áº·t
### Táº£i code:
```bash
cd sentiment_comment
git clone https://github.com/tttiuem2k3/Sentiment_Comment.git
pip install -r requirements.txt
```
### Huáº¥n luyá»‡n mÃ´ hÃ¬nh:
- Huáº¥n luyá»‡n mÃ´ hÃ¬nh dá»±a trÃªn bá»™ data: [`COMMENT_DATA`](./DATA)
- Tham khoáº£n code huáº¥n luyá»‡n mÃ´ hÃ¬nh: [`CODE`](./CODE)
### Cháº¡y á»©ng dá»¥ng:
Run python [`App.py`](./APP/App.py)

---

##  ğŸ“ LiÃªn há»‡
- ğŸ‘¥ Linkedin: [Thá»‹nh Tráº§n](https://www.linkedin.com/in/thinh-tran-04122k3/)

- ğŸ“§ Email: tttiuem2k3@gmail.com
